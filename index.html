<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>BA DA test</title>
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="wrapper">
      <p id="ready_for_next_series" hidden>
        PrÃªtÂ·e pour la sÃ©rie suivante&nbsp;?
      </p>
      <button id="finish_button" onclick="displayResultAndDownload();" hidden>
        Finish experiment
      </button>
      <textarea id="responses" hidden rows="4" cols="50"></textarea>
      <div id="start_form">
        <label for="subject_id">Subject ID:</label>
        <input
          id="subject_id"
          style="margin-right: 1em"
          type="text"
          name="subject_id"
          autocomplete="off"
          oninput="(() => {
          document.getElementById('fullscreen_button').disabled =
          !document.getElementById('subject_id').value;
        })()"
        />
        <br />
        <br />

        <button id="fullscreen_button" onclick="showInstructionPage()" disabled>
          Go fullscreen and start experiment
        </button>
      </div>
      <div id="instruction" hidden>
        <p>Bonjour jeune chercheuse ou chercheur&nbsp;!</p>
        <p>
          Nous avons une mission passionnante pour toi. Notre brillante
          scientifique, Axelle, a Ã©tÃ© clonÃ©e, mais quelque chose sâ€™est mal
          passÃ©. Il y a deux Axelles identiques et super intelligentes, ainsi
          quâ€™une Axelle pas trÃ¨s intelligente qui essaye de se cacher. Nous
          avons besoin de ton aide pour trouver lâ€™Axelle moins intelligente.
        </p>
        <p>
          Sur lâ€™Ã©cran, tu verras trois Axelle. La tÃ¢che consiste Ã  Ã©couter
          attentivement pour trouver celle qui produit un son diffÃ©rent. Câ€™est
          comme un jeu pour trouver un intrus. Si tu arrives Ã  repÃ©rer lâ€™Axelle
          pas trÃ¨s intelligente en cliquant sur le son diffÃ©rent, elle
          apparaÃ®tra. Mais attention&nbsp;! Elle se cache de mieux en mieux, au
          fur et Ã  mesure que la mission avance, donc il faut continuer Ã  la
          chercher.
        </p>
        <p>Es-tu prÃªtÂ·e Ã  devenir unÂ·e super-dÃ©tective&nbsp;?</p>
        <p>Clique sur le bouton Â«&nbsp;DÃ©marrer la sÃ©rie&nbsp;Â».</p>
      </div>
      <button
        id="start_button"
        onclick=";
        document.getElementById('start_button').setAttribute('hidden', '');
        runSeries();"
        hidden
      >
        DÃ©marrer la sÃ©rie
      </button>
    </div>
    <div class="stimuli" id="stimuli" hidden>
      <span
        id="left_stimulus"
        class="stimuli_to_choose_from"
        onclick="selectStimulus(event.currentTarget.dataset.stimulus, 'left')"
        data-stimulus
      >
        <p class="speaker showable" id="speaker_left">ğŸ”Š</p>
        <p class="cue showable">?</p>
        <div class="flip-inner" id="left-is-flipping">
          <div class="flip-front">
            <!-- <img src="axelle.svg" class="axelle_face" /> -->
            <video
              muted
              src="stimuli_december_2023/BA_AO_RMS0.009.mp4"
              type="video/mp4"
              class="BA_video_blurred left_stimulus_class"
            ></video>
            <video
              muted
              hidden
              src="stimuli_december_2023/BA_AV_RMS0.009.mp4"
              type="video/mp4"
              class="BA_video left_stimulus_class"
            ></video>
            <video
              muted
              hidden
              src="stimuli_december_2023/video_DA.mp4"
              type="video/mp4"
              class="DA_video left_stimulus_class"
            ></video>
          </div>
          <img class="is-flipped" id="is_flipped_left" />
        </div>
      </span>
      <span id="reference_stimulus">
        <p class="speaker showable" id="speaker_middle">ğŸ”Š</p>
        <div id="reference_stimulus_container">
          <!-- <img src="axelle.svg" class="axelle_face" /> -->
          <video
            muted
            src="stimuli_december_2023/BA_AO_RMS0.009.mp4"
            type="video/mp4"
            class="BA_video_blurred reference_stimulus_class"
          ></video>
          <video
            muted
            hidden
            src="stimuli_december_2023/BA_AV_RMS0.009.mp4"
            type="video/mp4"
            class="BA_video reference_stimulus_class"
          ></video>
          <video
            muted
            hidden
            src="stimuli_december_2023/video_DA.mp4"
            type="video/mp4"
            class="DA_video reference_stimulus_class"
          ></video>
        </div>
      </span>
      <span
        id="right_stimulus"
        class="stimuli_to_choose_from"
        onclick="selectStimulus(event.currentTarget.dataset.stimulus, 'right')"
        data-stimulus
      >
        <p class="speaker showable" id="speaker_right">ğŸ”Š</p>
        <p class="cue showable">?</p>
        <div class="flip-inner" id="right-is-flipping">
          <div class="flip-front">
            <video
              muted
              hidden
              src="stimuli_december_2023/BA_AV_RMS0.009.mp4"
              type="video/mp4"
              class="BA_video right_stimulus_class"
            ></video>
            <video
              muted
              hidden
              src="stimuli_december_2023/video_DA.mp4"
              type="video/mp4"
              class="DA_video right_stimulus_class"
            ></video>
            <!-- <img src="axelle.svg" class="axelle_face" /> -->
            <video
              muted
              src="stimuli_december_2023/BA_AO_RMS0.009.mp4"
              type="video/mp4"
              class="BA_video_blurred right_stimulus_class"
            ></video>
          </div>
          <img class="is-flipped" id="is_flipped_right" />
        </div>
      </span>
      <button
        class="play_button"
        id="play_button"
        onclick="playStimuli()"
        hidden
      >
        Ã‰couter les trois sons
      </button>
    </div>
    <div class="stimuli" id="mcgurk_stimuli" hidden>
      <span>
        <img id="audio_only_image" src="axelle.svg" hidden />
        <video
          muted
          hidden
          src="stimuli_december_2023/video_BA.mp4"
          type="video/mp4"
          id="BA_video_mcgurk"
        ></video>
        <video
          muted
          hidden
          src="stimuli_december_2023/video_DA.mp4"
          type="video/mp4"
          id="DA_video_mcgurk"
        ></video>
      </span>
    </div>
    <div id="mcgurk_answers" hidden>
      <div>
        <span
          id="mcgurk_choice_1"
          onclick="selectAnswer(event.currentTarget.dataset.answer)"
          >test1</span
        >
        <span
          id="mcgurk_choice_2"
          onclick="selectAnswer(event.currentTarget.dataset.answer)"
          >test2</span
        >
      </div>
      <div>
        <span
          id="mcgurk_choice_3"
          onclick="selectAnswer(event.currentTarget.dataset.answer)"
          >test3</span
        >
        <span
          id="mcgurk_choice_4"
          onclick="selectAnswer(event.currentTarget.dataset.answer)"
          >test4</span
        >
      </div>
    </div>
    <script type="text/javascript" src="lodash.js"></script>
    <script type="text/javascript" src="behavioral-task.js"></script>
  </body>
</html>
